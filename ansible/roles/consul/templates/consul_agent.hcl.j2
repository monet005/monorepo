datacenter = "dc1"
data_dir = "/opt/consul"
encrypt = "ULMOfetAser3+wLxaGWc3WoFXXfvmlkyBXqGvqdmwhs="
ca_file = "/etc/consul.d/consul-agent-ca.pem"
{% if ansible_nodename == 'pi-0' %}
cert_file = "/etc/consul.d/dc1-client-consul-0.pem"
key_file = "/etc/consul.d/dc1-client-consul-0-key.pem"
{% elif ansible_nodename == 'pi-1' %}
cert_file = "/etc/consul.d/dc1-client-consul-1.pem"
key_file = "/etc/consul.d/dc1-client-consul-1-key.pem"
{% elif ansible_nodename == 'pi-2' %}
cert_file = "/etc/consul.d/dc1-client-consul-2.pem"
key_file = "/etc/consul.d/dc1-client-consul-2-key.pem"
{% elif ansible_nodename == 'pi-3' %}
cert_file = "/etc/consul.d/dc1-client-consul-3.pem"
key_file = "/etc/consul.d/dc1-client-consul-3-key.pem"
{% elif ansible_nodename == 'ubuntu-21' %}
cert_file = "/etc/consul.d/dc1-client-consul-4.pem"
key_file = "/etc/consul.d/dc1-client-consul-4-key.pem"
{% elif ansible_nodename == 'testbox1' %}
cert_file = "/etc/consul.d/dc1-client-consul-5.pem"
key_file = "/etc/consul.d/dc1-client-consul-5-key.pem"
{% elif ansible_nodename == 'testbox2' %}
cert_file = "/etc/consul.d/dc1-client-consul-6.pem"
key_file = "/etc/consul.d/dc1-client-consul-6-key.pem"
{% endif %}
verify_incoming = true
verify_outgoing = true
verify_server_hostname = false
acl = {
  enabled = true
  default_policy = "allow"
  enable_token_persistence = true
}
performance {
  raft_multiplier = 1
}
retry_join = ["192.168.0.200"]
